<!doctype html>
<html lang="en" know="[body]">
<head>
    <title>KnowCSS Now</title>
    <script>
        var property = '#384ef4';
        var selector = '#b65b0c';
        var operator = '#c83b82';
        var attr = '#c83b82';
        var regex = 'orange';
        var punc = '#384ef4';

        const monospace = 'font-size-10pt! font-family-monospace! line-height-11pt! tab-size-2!';
        const mixins = {
            'body': 'p-0 m-0 h-100% 100vh 100vw overflow-hidden',
            'panels': 'of-auto m-0 p-10px b-0 100vw border-box b-3px/solid/#f3f3f3 border-top-width-0!',
            'monospace': monospace + ' all{' + monospace + '}',
            'floating': 'absolute t-0 l-0',
            'typing': 'z-1',
            'match': 'p-0.4em/0.8em m-0/0/0.5em/0',

            'highlighting': 'of-auto nowrap! z-0 bg-fff h-25vh!',
            'root': 'z-2 mt-50vh h-50vh! p-16px',
            'code': 'mt-25vh h-25vh! pre',
            'editing': 'webkit-scrollbar{display-none} focus{outline-none!} of-auto nowrap! resize-none c-transparent bg-transparent caret-color-#000 h-25vh 100vw outline-none!'
        };

        const knowConfig = {
            codeKey: 'code',
            refresh: true
        };

        // JAA TODO - convert this to KnowCSS mixins
        var css = `
          p code{border-radius:2px;background-color:#eee;color:#111}
          code[class*="language-"],pre[class*="language-"]{font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}
          code[class*="language-"]{background:#fff;color:#000}
          :not(pre)>code[class*="language-"]{padding:.2em;border-radius:.3em;box-shadow:none;white-space:normal}
          .token.comment,.token.prolog,.token.doctype,.token.cdata{color:#aaa}
          .token.punctuation{color:` + punc + `}
          .token.namespace{opacity:.7}
          .token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol{color:` + property + `}
          .token.selector,.token.attr-name,.token.string,.token.char,.token.builtin{color:` + selector + `}
          .token.operator,.token.entity,.token.url,.language-css .token.string,.token.variable,.token.inserted{color:` + operator + `}
          .token.atrule,.token.attr-value,.token.keyword{color:` + attr + `}
          .token.regex,.token.important{color:` + regex + `}
          .token.important,.token.bold{font-weight:700}
          .token.italic{font-style:italic}
          .token.entity{cursor:help}
          .token.deleted{color:red}
          pre.diff-highlight.diff-highlight>code .token.deleted:not(.prefix),pre>code.diff-highlight.diff-highlight .token.deleted:not(.prefix){background-color:rgba(255,0,0,.3);display:inline}
          pre.diff-highlight.diff-highlight>code .token.inserted:not(.prefix),pre>code.diff-highlight.diff-highlight .token.inserted:not(.prefix){background-color:rgba(0,255,128,.3);display:inline}
        `;

        document.addEventListener('DOMContentLoaded', function(event) {
            var eP = document.createElement('style');
            eP.innerHTML = css;
            document.body.appendChild(eP);
            var eH = '';
            try { eH = window.localStorage.getItem("knowcssnow"); }
            catch(e) { eH = ''; }
            var eH = eH || KwLy('root').innerHTML;
            var eD = KwLy('editing');
            eD.value = eH;
            KwUp(eH);
            KwCt(eD, event);
            for (var i=0; i<=1; i++) { KwAp(eD, 'root', true); }
            eD.focus();
        });
    </script>
</head>

<body know="[body] >{font-family-monospace}">
    <textarea know="[panels] [typing] [floating] [monospace] [match] [editing]" placeholder="Enter HTML Source Code" id="editing" spellcheck="false"
        oninput="KwUp(this.value); KwSs(this);" onscroll="KwSs(this);"
        onkeydown="KwCt(this, event); KwAp(this, 'root');"
        onkeyup="KwCt(this, event); KwAp(this, 'root');"></textarea>
    <pre know="[panels] [typing] [floating] [monospace] [match] [highlighting]" id="highlighting" aria-hidden="true">
        <code class="language-html" id="highlighting-content">
        </code>
    </pre>
    <div know="[panels] [floating] [monospace] [code]" id="code"></div>
    <div know="[panels] [root]" id="root"><div know="color-000 font-size-18px light">black 18px light</div>
<div know="color-f00 font-size-24px bold">red 24px bold</div>
<div know="color-00f font-size-18px semibold">blue 14px test</div>

<div know="color-green font-size-17px light">green 17px light</div>
<div know="color-purple font-size-24px bold">purple 24px bold</div>
<div know="color-orange font-size-21px semibold">orange 21px test</div></div>
    <script src="../../src/js/prism.js"></script>
    <script src="../../src/js/knowcss-now.js"></script>
    <script src="../../src/knowcss-colors.js"></script>
    <script src="../../src/knowcss-shorthand.js"></script>
    <script src="../../src/js/knowcss.js"></script>
    <script src="../../src/js/knowcss-highlight.js"></script>
</body>

</html>